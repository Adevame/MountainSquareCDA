{% extends 'base.html.twig' %}

{% block title %}
	Jour temporaire
{% endblock %}

{% block body %}
	<h2 style="margin: 10vh auto 0; justify-content: center;">Jours</h2>
	<section id="cards" style="display: flex; flex-direction: column; flex-wrap: wrap; align-items: center; height: 100%;">
		{% for scene in scenes %}
			<div style="display: flex; gap: 5%; margin: 0 auto; justify-content: center; padding: 2vh 0;">
				<h3 style="align-self: center;">Scene n°{{ scene.numero }}</h3>
				{% set scenePassages = [] %}
				{% for passage in passages %}
					{% if passage.scene.id == scene.id %}
						{% set scenePassages = scenePassages|merge([passage]) %}
					{% endif %}
				{% endfor %}
				{% if scenePassages is not empty %}
					{% for passage in scenePassages %}
						<div class="card" style="width: 25vw; flex-direction: row; height: 20vh;">
							<img src="{{ asset('media/placeholder.jpg') }}" class="card-img-top" alt="placeholderForPassage" style="width: 7.5vw; height: 5.5rem; align-self: center;">
							<div class="card-body" style="width: 15vw; padding: 0 10px 0 10px; display: grid; grid-template-columns: repeat(2, 1fr); grid-template-rows: repeat(2, 1fr); grid-column-gap: 0px; grid-row-gap: 0px;">
								<h5 class="card-title" style="max-width: fit-content; 1 / 1 / 2 / 2; margin-bottom: 0;">{{passage.performers.nom}}</h5>
								<p class="card-text" style="max-width: fit-content; max-height: fit-content; grid-area: 1 / 2 / 2 / 3; margin-bottom: 0;">
									Date et Horaire:
									{{ passage.horaires }}<br>
								</p>
								<input type="button" value="Détails" class="btn btn-dark" id="modalOn_{{passage.performers.id}}" style="max-height: max-content; grid-area: 2 / 1 / 3 / 3; align-self: center;">
							</div>
						</div>
						<div id="modalOverlay" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100vh; background-color: rgba(0, 0, 0, 0.5); z-index: 5;">
							<div class="card" id="modalMockup_{{passage.performers.id}}" style="display: grid; grid-template-columns: repeat(2, 1fr); grid-template-rows: repeat(3, 1fr); grid-column-gap: 0px;grid-row-gap: 0px; justify-content: center; display: none; z-index: 6; margin-top: 2vh; background: white; width: 66%; align-self: center; border: 1rem solid white; position: absolute; top: 25vh; left: 20vw;">
								<img class="card-img-top" src="{{ asset('media/placeholder.jpg') }}" alt="placeholderPerformer" style="align-self: start; grid-area: 1 / 1 / 4 / 2;">
								<div class="card-body" style="text-align: center;">
									<h2 class="card-title" style="grid-area: 1 / 2 / 2 / 3;">{{passage.performers.nom}}</h2>
									<h3 class="card-text" stryle="grid-area: 2 / 2 / 3 / 3;">{{passage.performers.typeMusique}}</h3>
									<a href="https://www.youtube.com/watch?v=dQw4w9WgXcQ" style="text-decoration: none;">Découvrez</a>
								</div>
								<div style="grid-area: 3 / 2 / 4 / 3; justify-content: center; text-align: center;">
									<input type="button" value="Fermer" class="btn btn-dark" id="modalOff" style="height: fit-content; width: 33%;">
								</div>
							</div>
						</div>
					{% endfor %}
				{% else %}
					<p>No passages available for this scene.</p>
				{% endif %}
			</div>
		{% endfor %}
	</section>


{% endblock %}
